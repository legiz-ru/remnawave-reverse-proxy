---
title: Введение
description: Введение, содержащее описание скрипта и его содержимого
---

import { Image } from 'astro:assets';
import darkBanner from '../../../../assets/banner.png';
import lightBanner from '../../../../assets/banner-black.png';

<p align="center"><a href="https://github.com/eGamesAPI/remnawave-reverse-proxy">
    <img src={lightBanner.src} alt="Remnawave Reverse Proxy" class="light-banner" />
    <img src={darkBanner.src} alt="Remnawave Reverse Proxy" class="dark-banner" />
</a></p>

:::danger
ЭТОТ РЕПОЗИТОРИЙ ЯВЛЯЕТСЯ УЧЕБНЫМ ПРИМЕРОМ ДЛЯ ИЗУЧЕНИЯ ОСНОВ NGINX, ОБРАТНОГО ПРОКСИ И СЕТЕВОЙ БЕЗОПАСНОСТИ. ЭТОТ СКРИПТ ДЕМОНСТРИРУЕТ КОНФИГУРАЦИЮ NGINX В КАЧЕСТВЕ ОБРАТНОГО ПРОКСИ. НЕ ДЛЯ PROD И НЕ ДЛЯ ПРОДАКШН-ИСПОЛЬЗОВАНИЯ! ЕСЛИ ВЫ НЕ ПОНИМАЕТЕ, КАК РАБОТАЕТ ПАНЕЛЬ УПРАВЛЕНИЯ - ЭТО ВАША ПРОБЛЕМА, А НЕ ПРОБЛЕМА АВТОРА СКРИПТА. ИСПОЛЬЗУЙТЕ НА СВОЙ СТРАХ И РИСК!
:::

## Сервер использует Nginx Reverse-Proxy

Этот скрипт предназначен для упрощения настройки сервера обратного прокси с использованием NGINX и Xray, а также для автоматизации установки панели управления Remnawave и узла. В этой конфигурации Xray работает напрямую на порту 443, перенаправляя трафик через сокет, к которому подключается NGINX. Этот подход минимизирует ненужные накладные расходы TCP, обеспечивая улучшенную производительность и надежность соединения.

:::note[Important]
Поддерживает Debian и Ubuntu. Скрипт был протестирован в среде виртуализации KVM. Для правильной работы вам потребуется собственный домен. Рекомендуется запускать его с правами root на только что установленной системе.
:::

Скрипт поддерживает развертывание как на одном сервере (где панель и нода установлены вместе), так и на двух отдельных серверах, в зависимости от ваших потребностей:

- Один сервер: Идеально подходит для компактной настройки, где панель управления и нода Xray установлены на одной машине.
- Сервер с панелью: Служит центральным узлом управления, не размещая ноду Xray.
- Сервер с нодой: Хостит ноду Xray вместе с заглушкой Self Steal для VLESS REALITY. Для обеспечения правильной работы вам необходимо заранее подготовить три домена (или поддомена): первый будет использоваться для панели управления, второй для обработки подписок, а третий для сайта заглушки Self Steal, который размещается на сервере узла.

## Защита панели через URL-параметр

Для повышения безопасности панели в конфигурации NGINX реализован дополнительный уровень защиты от обнаружения:

- Для доступа к панели необходимо перейти по URL в следующем формате:

```
https://panel.example.com/auth/login?<SECRET_KEY>=<SECRET_KEY>
```

- Этот запрос автоматически устанавливает специальный Cookie в браузере с именем `<SECRET_KEY>` и значением `<SECRET_KEY>`.
- Если Cookie отсутствует или в запросе URL отсутствует указанный параметр, пользователь столкнется либо с пустой страницей, либо с ошибкой 404, в зависимости от запрашиваемого пути.

Этот механизм обеспечивает скрытие панели от несанкционированного доступа. Даже если злоумышленник попытается просканировать хост или перебрать пути, он не сможет получить доступ к панели без правильного параметра и соответствующего Cookie.

## Конфигурация прокси-сервера

1. Конфигурация прокси-сервера:
    - Поддержка автоматических обновлений конфигурации через подписку и JSON-подписку с возможностью преобразования в форматы для популярных приложений.
2. Настройка обратного прокси NGINX в сочетании с Xray.
3. Меры безопасности:
    - Настройка UFW для управления доступом.
    - SSL-сертификаты Cloudflare/ACME с автоматическим обновлением.
    - Управление IPv6 для предотвращения потенциальных уязвимостей.
    - Оптимизация BBR для TCP-соединений.
    - Выбор случайного шаблона веб-сайта из массива.

## Функции и ограничения доступа к API :badge[New]

### Локальный доступ к API

В скрипте eGames'а панель Remnawave работает локально на порту `3000`. Для локального доступа к API вы можете использовать:

* **Прямое подключение:** `http://127.0.0.1:3000/api/`
* **Подключение через SDK:** Используя SDK Remnawave с базовым URL `http://127.0.0.1:3000`

### Внешний доступ к API

Скрипт eGames'а реализует систему защиты панели через авторизацию на основе cookie, что вводит следующие ограничения:

* **Требуемая специальная cookie:** Внешний доступ к панели требует cookie с именем `<SECRET_KEY>` и значением `<SECRET_KEY>`.
* **URL-параметр для первоначального доступа:** Первый доступ должен быть осуществлен через URL, содержащий секретный параметр, который устанавливает требуемую cookie.
* **Прямой доступ к API заблокирован:** Без правильной cookie все запросы к API вернут либо пустую страницу, либо ошибку 404.

## Legal Notice

:::note[Important]
Этот репозиторий предназначен исключительно для образовательных целей и для изучения принципов работы обратных прокси-серверов и сетевой безопасности. Скрипт демонстрирует настройку прокси-сервера с использованием NGINX для обратного прокси, управления трафиком и защиты от атак.

Мы настоятельно напоминаем вам, что использование этого инструмента для обхода сетевых ограничений или цензуры является незаконным в некоторых странах, где существуют законы, регулирующие использование технологий для обхода интернет-ограничений.

Этот проект не предназначен для использования способами, которые нарушают законы о защите информации или вмешиваются в механизмы цензуры. Мы не несем ответственности за любые юридические последствия, возникающие в результате использования этого скрипта.

Используйте этот инструмент/скрипт только в демонстрационных целях, в качестве примера работы обратного прокси и защиты данных. Мы настоятельно рекомендуем удалить скрипт после его просмотра. Дальнейшее использование осуществляется на ваш страх и риск.

Если вы не уверены, нарушает ли использование этого инструмента или его компонентов законы вашей страны, воздержитесь от взаимодействия с этим инструментом.
:::

## Issues

Нашли проблему? Сообщите нам, [создав Issue](https://github.com/eGamesAPI/remnawave-reverse-proxy/issues/new/choose) на странице [репозитория](https://github.com/eGamesAPI/remnawave-reverse-proxy/) или обсудите это в [Telegram чате](https://t.me/remnawave_reverse).

## Donations

Если вам нравится этот проект и вы хотите поддержать его дальнейшую разработку, пожалуйста, рассмотрите возможность пожертвования. Ваш вклад поможет финансировать будущие обновления и улучшения!

**Способы пожертвования:**
- TON USDT: `UQAxyZDwKUPQ5Bp09JOFcaDVakjYQT46rf3iP3lnl_qc9xVS`